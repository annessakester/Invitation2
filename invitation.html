<!DOCTYPE html>
<html lang="en-US">

<head><script src="https://localhost:49506/8ee4ea609a6346c4cf34c2b621ac79ba.js"></script>

    <title>Invitation Page</title>
    <link rel="stylesheet" type="text/css" href="css/IT-FP3215main.css" />

</head>

<body>
    <header>
        <div class="top">
            <a class="logo" href="index.html">CapellaVolunteers<span class="dotcom">.org</span></a>
        </div>
        <nav>
            <ul class="topnav">
                <li><a href="index.html">Home</a>
                </li>
                <li><a href="invitation.html" class="active">Invitation</a>
                </li>
                <li><a href="gallery.html">Gallery</a>
                </li>
                <li><a href="registration.html">Registration</a>
                </li>
            </ul>

        </nav>
    </header>
    <section id="pageForm">

        <form action="#">

            <label for="numericVolunteers">Number of Volunteers:
            </label>
            <br>

            <input type="text" id="nVolunteers" onkeydown="newFields()" name="numericVolunteers" placeholder="Number of Volunteers"/>
            <br>
            
            <div id="countFields"></div>

            <label for="organizationName">Organization name:
            </label>           
            <input type="text" id="oName" name="organizationName" placeholder="Enter your Organization Name" />

            <label for="eventDate">Event Date:
            </label>
            <input type="text" id="date" name="eventDate" placeholder="Enter your Event Date" />

            <label for="websiteURL">URL:
            </label>
            <input type="text" id="wURL" name="websiteURL" placeholder="Enter your Website URL" />

            <label for="hostName">Host name:
            </label>
            <input type="text" id="hName" name="hostName" placeholder="Host Name" />
            <br>

            <input type="Submit" id="btn" value="Submit" onclick="return getInfo()">
        </form>


<!-- added div to output each recipient invitation  -->

    <div id="invitationMessage"></div>

    </section>
<script>
    var rName,
  oName,
  wURL,
  hName,
  edate,
  volunteers,
  vCount,
  nMessage,
  vId;

// function that will create the invitation message for each volunteer
function getInfo() {
  vCount = document.getElementById("nVolunteers").value;
  nMessage = "";
  for (i = 1; i <= vCount; i++) {
    vId = "vForm" + i;

    // getting the input value name that matches the id field
    rName = document.getElementById(vId).value;
    oName = document.getElementById("oName").value;
    date = document.getElementById("date").value;
    wURL = document.getElementById("wURL").value;
    hName = document.getElementById("hName").value;

    nMessage +=
      "<article id='placeholderContent'>Hello <span id='recipientName'>" +
      rName +
      "</span>!<br/><br/>You have been invited to volunteer for an event held by <span id='organizationName'>" +
      oName +
      "</span> on <span id='eventDate'>" +
      date +
      "</span>. Please come to the following website: <span id='websiteURL'>" +
      wURL +
      "</span> to sign up as a volunteer.<br/><br/> Thanks!<br/><span id='hostName'>" +
      hName +
      "</span><br/><br/></article>";
  }
  document.getElementById("invitationMessage").style.visibility = "visible";
  document.getElementById("invitationMessage").innerHTML = nMessage;

  return false;
}

// function that will register the enter key and create the numeric number entered for volunter name input field
function newFields() {
  vCount = document.getElementById("nVolunteers").value;
  if (event.keyCode === 13) {
    nMessage = "";
    for (i = 1; i <= vCount; i++) {
      nMessage +=
        "<label for='vForm'>Recipient name " +
        "" +
        i +
        ":</label> <input type='text' name='vForm' id='vForm" +
        i +
        "'placeholder='Enter your Recipient Name'/><br>";
    }
    document.getElementById("countFields").innerHTML = nMessage;
  }

}
</script>
    <footer>This events site is for IT-FP3215 tasks.
    </footer>

</body>


</html>


